<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=9">
<meta name="generator" content="Doxygen 1.8.13">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>CMSimple_XH: The FileEdit Class Hierarchy</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />


<script type="text/javascript" src="js/syntaxhighlighter/scripts/XRegExp.js"></script>
<script type="text/javascript" src="js/syntaxhighlighter/scripts/shCore.js"></script>
<script type="text/javascript" src="js/syntaxhighlighter/scripts/shAutoloader.js"></script>
<link href="js/syntaxhighlighter/styles/shCoreDefault.css"" type="text/css" rel="stylesheet" />

</head>
<body cz-shortcut-listen="true">
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.jpg"></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CMSimple_XH
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>


<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


<div class="header">
  <div class="headertitle">
<div class="title">The FileEdit Class Hierarchy </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#intro">Introduction </a><ul><li class="level2"><a href="#textfileedit">TextFileEdit </a></li>
<li class="level2"><a href="#arrayfileedit">ArrayFileEdit </a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="intro"></a>
Introduction </h1>
<p>The FileEdit class hierarchie is responsible for the handling of the 
editing of files in the back-end. Its implementation makes heavy use of 
the <a href="http://en.wikipedia.org/wiki/Template_method_pattern">template method pattern</a>. The two main branches are TextFileEdit and ArrayFileEdit.</p>
<h2><a class="anchor" id="textfileedit"></a>
TextFileEdit </h2>
<p>The predefined concrete subclasses of TextFileEdit offer a simple textarea to edit the content of a text file.</p>
<h2><a class="anchor" id="arrayfileedit"></a>
ArrayFileEdit </h2>
<p>This branch offers editing of files storing data in an array 
structure. The predefined subclasses handle two- dimensional PHP arrays,
 which are used to store the configuration options and language strings 
of the core and plugins. The generated forms group the options in 
categories. The options can have the following types, which can be 
specified in a file metaconfig.php.</p>
<ul>
<li><em>string</em>: a rather short text (represented as text input)</li>
<li><em>text</em>: a text of arbitrary length (represented as textarea)</li>
<li><em>bool</em>: a boolean value (represented as checkbox)</li>
<li><em>enum</em>: one of several fixed values (represented as selectlist)</li>
<li><em>xenum</em>: a text with suggestions of several fixed values (represented as text input with datalist)</li>
<li><em>function</em>: one of several dynamic values (represented as selectlist)</li>
<li><em>xfunction</em>: a text with suggestions of several dynamic values (represented as text input with datalist)</li>
<li><em>hidden</em>: a hidden text field</li>
<li><em>random</em>: a hidden random value that is regenerated on each save</li>
</ul>
<h1><a class="anchor" id="usage"></a>
Usage </h1>
<p>To display the edit form ::form() has to be called; to handle the form submission ::submit() has to be called. For instance:</p>
<div class="fragment"><div class="line">require_once <a class="code" href="cms_8php.html#a3024346bec0edeb42fdee575add2b8b2">$pth</a>[<span class="stringliteral">'folder'</span>][<span class="stringliteral">'classes'</span>] . <span class="stringliteral">'FileEdit.php'</span>;</div><div class="line"></div><div class="line">$editor = <span class="keyword">new</span> XH_CoreConfigFileEdit();</div><div class="line"><span class="keywordflow">if</span> ($save) {</div><div class="line">    <a class="code" href="cms_8php.html#ac6c49291f92291a3cece8066d68e5f5e">$o</a> .= $editor-&gt;submit();</div><div class="line">} <span class="keywordflow">else</span> {</div><div class="line">    <a class="code" href="cms_8php.html#ac6c49291f92291a3cece8066d68e5f5e">$o</a> .= $editor-&gt;form();</div><div class="line">}</div></div><!-- fragment --><p>By
 means of extending an appropriate class of the hierarchy, it is 
possible to make other files even in other formats editable online. An 
example:</p>
<div class="fragment"><div class="line">require_once <a class="code" href="cms_8php.html#a3024346bec0edeb42fdee575add2b8b2">$pth</a>[<span class="stringliteral">'folder'</span>][<span class="stringliteral">'classes'</span>] . <span class="stringliteral">'FileEdit.php'</span>;</div><div class="line"></div><div class="line"><span class="keyword">class </span>MyTextFileEdit <span class="keyword">extends</span> XH_TextFileEdit</div><div class="line">{</div><div class="line">    <span class="keyword">function</span> MyTextFileEdit()</div><div class="line">    {</div><div class="line">        $this-&gt;filename = <span class="stringliteral">'path/of/the/file'</span>;</div><div class="line">        $this-&gt;params = array(<span class="stringliteral">'what'</span> =&gt; <span class="stringliteral">'my_file'</span>, <span class="stringliteral">'action'</span> =&gt; <span class="stringliteral">'save'</span>);</div><div class="line">        $this-&gt;redir = <span class="stringliteral">"?what=my_file&amp;action=edit"</span>;</div><div class="line">        $this-&gt;textareaName = <span class="stringliteral">'my_textarea'</span>;</div><div class="line">        parent::XH_TextFileEdit();</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordflow">if</span> (isset($_REQUEST[<span class="stringliteral">'what'</span>]) &amp;&amp; $_REQUEST[<span class="stringliteral">'what'</span>] == <span class="stringliteral">'my_file'</span>) {</div><div class="line">    $fileEditor = <span class="keyword">new</span> MyTextFileEdit();</div><div class="line">    <span class="keywordflow">if</span> ($_REQUEST[<span class="stringliteral">'action'</span>] == <span class="stringliteral">'save'</span>) {</div><div class="line">        <a class="code" href="cms_8php.html#ac6c49291f92291a3cece8066d68e5f5e">$o</a> .= $fileEditor-&gt;submit();</div><div class="line">    } <span class="keywordflow">else</span> {</div><div class="line">        <a class="code" href="cms_8php.html#ac6c49291f92291a3cece8066d68e5f5e">$o</a> .= $fileEditor-&gt;form();</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --> </div></div><!-- contents -->
<!-- start footer part -->

<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">構築:
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>





<script>
SyntaxHighlighter.autoloader
(
"applescript            js/syntaxhighlighter/scripts/shBrushAppleScript.js",
"actionscript3 as3      js/syntaxhighlighter/scripts/shBrushAS3.js",
"bash shell             js/syntaxhighlighter/scripts/shBrushBash.js",
"coldfusion cf          js/syntaxhighlighter/scripts/shBrushColdFusion.js",
"cpp c                  js/syntaxhighlighter/scripts/shBrushCpp.js",
"c# c-sharp csharp      js/syntaxhighlighter/scripts/shBrushCSharp.js",
"css                    js/syntaxhighlighter/scripts/shBrushCss.js",
"delphi pascal          js/syntaxhighlighter/scripts/shBrushDelphi.js",
"diff patch pas         js/syntaxhighlighter/scripts/shBrushDiff.js",
"erl erlang             js/syntaxhighlighter/scripts/shBrushErlang.js",
"groovy                 js/syntaxhighlighter/scripts/shBrushGroovy.js",
"java                   js/syntaxhighlighter/scripts/shBrushJava.js",
"jfx javafx             js/syntaxhighlighter/scripts/shBrushJavaFX.js",
"js jscript javascript  js/syntaxhighlighter/scripts/shBrushJScript.js",
"perl pl                js/syntaxhighlighter/scripts/shBrushPerl.js",
"php                    js/syntaxhighlighter/scripts/shBrushPhp.js",
"text plain             js/syntaxhighlighter/scripts/shBrushPlain.js",
"py python              js/syntaxhighlighter/scripts/shBrushPython.js",
"ruby rails ror rb      js/syntaxhighlighter/scripts/shBrushRuby.js",
"sass scss              js/syntaxhighlighter/scripts/shBrushSass.js",
"scala                  js/syntaxhighlighter/scripts/shBrushScala.js",
"sql                    js/syntaxhighlighter/scripts/shBrushSql.js",
"vb vbnet               js/syntaxhighlighter/scripts/shBrushVb.js",
"xml xhtml xslt html    js/syntaxhighlighter/scripts/shBrushXml.js"
);
	SyntaxHighlighter.defaults['auto-links'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
SyntaxHighlighter.all();
</script>




</body>
</html>